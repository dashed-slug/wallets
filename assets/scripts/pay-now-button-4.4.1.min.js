!function(r){r(document).ready(function(){var n="https://blockchain.info/",e=r(".blockchain-btn");e.find(".blockchain").hide(),e.find(".stage-begin").trigger("show").show(),e.each(function(e){var d,t=r(this);(d=t).click(function(){var o=r(this).data("address"),i=r(this).data("test");d.find(".blockchain").hide(),d.find(".stage-loading").trigger("show").show(),d.find(".qr-code").empty();try{if(ws=new WebSocket("wss://ws.blockchain.info/inv"),!ws)return;ws.onmessage=function(e){try{var t=r.parseJSON(e.data),a=0;if("utx"==t.op)for(var i=t.x,n=0;n<i.out.length;n++){var s=i.out[n];s.addr==o&&(a+=parseInt(s.value))}d.find(".blockchain").hide(),d.find(".stage-paid").trigger("show").show().html(d.find(".stage-paid").html().replace("[[value]]",a/1e8)),ws.close()}catch(e){console.log(e),console.log(e.data)}},ws.onopen=function(){ws.send('{"op":"addr_sub", "addr":"'+o+'"}')}}catch(e){console.log(e)}d.find(".stage-ready").trigger("show").show().html(d.find(".stage-ready").html().replace("[[address]]",o)),d.find(".qr-code").html('<img style="margin:5px" src="'+n+"qr?data="+o+'&size=125">'),d.unbind(),setTimeout(function a(){r.ajax({type:"GET",url:n+"q/getreceivedbyaddress/"+o+"?start_time="+(new Date).getTime(),data:{format:"plain"},success:function(e){if(e){var t=parseInt(e);0<t||i?(d.find(".blockchain").hide(),d.find(".stage-paid").trigger("show").show().html(d.find(".stage-paid").html().replace("[[value]]",t/1e8))):setTimeout(a,5e3)}}})},5e3)})})})}(jQuery);
//# sourceMappingURL=pay-now-button-4.4.1.min.js.map